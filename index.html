<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>둥둥 떠다니는 메시지</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000;
            font-family: 'Malgun Gothic', sans-serif;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }

        .input-container {
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
        }

        #messageInput {
            width: 400px;
            padding: 15px 20px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            background-color: #fff;
            color: #000;
            outline: none;
        }

        #messageInput::placeholder {
            color: #888;
        }

        .bubble {
            position: absolute;
            background-color: #fff;
            color: #000;
            padding: 12px 20px;
            border-radius: 20px;
            font-size: 16px;
            white-space: nowrap;
            box-shadow: 0 4px 6px rgba(255, 255, 255, 0.1);
            pointer-events: none;
            animation: float 0.5s ease-out;
        }

        @keyframes float {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .warning {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #4169E1;
            font-size: 24px;
            font-weight: bold;
            z-index: 200;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .warning.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="input-container">
        <input type="text" id="messageInput" placeholder="메시지를 입력해주세요.">
    </div>
    
    <div class="warning" id="warning">잠시만 기다려주세요.</div>

    <script>
        const input = document.getElementById('messageInput');
        const warning = document.getElementById('warning');
        const bubbles = [];
        const MAX_BUBBLES = 10;
        const BUBBLE_LIFETIME = 10000;

        function getRandomPosition() {
            const margin = 100;
            return {
                x: margin + Math.random() * (window.innerWidth - margin * 2),
                y: margin + Math.random() * (window.innerHeight - margin * 2)
            };
        }

        function getRandomVelocity() {
            const speed = 0.5 + Math.random() * 1;
            const angle = Math.random() * Math.PI * 2;
            return {
                vx: Math.cos(angle) * speed,
                vy: Math.sin(angle) * speed
            };
        }

        function createBubble(text) {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.textContent = text;
            
            const pos = getRandomPosition();
            const vel = getRandomVelocity();
            
            bubble.style.left = pos.x + 'px';
            bubble.style.top = pos.y + 'px';
            
            document.body.appendChild(bubble);
            
            const bubbleData = {
                element: bubble,
                x: pos.x,
                y: pos.y,
                vx: vel.vx,
                vy: vel.vy,
                width: bubble.offsetWidth,
                height: bubble.offsetHeight
            };
            
            bubbles.push(bubbleData);
            
            setTimeout(() => {
                removeBubble(bubbleData);
            }, BUBBLE_LIFETIME);
        }

        function removeBubble(bubbleData) {
            const index = bubbles.indexOf(bubbleData);
            if (index > -1) {
                bubbles.splice(index, 1);
                bubbleData.element.remove();
            }
        }

        function updateBubbles() {
            bubbles.forEach(b => {
                b.x += b.vx;
                b.y += b.vy;
                
                if (b.x <= 0 || b.x + b.width >= window.innerWidth) {
                    b.vx *= -1;
                    b.x = Math.max(0, Math.min(b.x, window.innerWidth - b.width));
                }
                
                if (b.y <= 0 || b.y + b.height >= window.innerHeight) {
                    b.vy *= -1;
                    b.y = Math.max(0, Math.min(b.y, window.innerHeight - b.height));
                }
                
                b.element.style.left = b.x + 'px';
                b.element.style.top = b.y + 'px';
            });
            
            requestAnimationFrame(updateBubbles);
        }

        updateBubbles();

        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const text = input.value.trim();
                
                if (text) {
                    if (bubbles.length >= MAX_BUBBLES) {
                        warning.classList.add('show');
                        setTimeout(() => {
                            warning.classList.remove('show');
                        }, 2000);
                    } else {
                        createBubble(text);
                        input.value = '';
                    }
                }
            }
        });
    </script>
</body>
</html>